@using System.Globalization
@using Hamkare.Common.Entities.Identity
@using Microsoft.AspNetCore.Identity
@model Hamkare.Demo.ViewModels.HotelBookingViewModel
@inject UserManager<User> UserManager

@{
  var user = await UserManager.GetUserAsync(User);
}

<!DOCTYPE HTML>
<html lang="fa">
<head>
    <title>safar online</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet"/>
    <link rel="stylesheet" href="css/font-awesome.css"/>
    <link rel="stylesheet" href="css/lineicons.css"/>
    <link rel="stylesheet" href="css/weather-icons.css"/>
    <link rel="stylesheet" href="css/bootstrap.css"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <link rel="stylesheet" href="css/persian-datepicker.css"/>
  </head>
  <body>
    <nav class="navbar navbar-default navbar-theme" id="main-nav">
      <div class="container">
        <div class="navbar-inner nav">
          <div class="navbar-header">
            <button class="navbar-toggle collapsed" data-target="#navbar-main" data-toggle="collapse" type="button" area-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
              <img src="img/img/logo.png" alt="Image Alternative text" title="Image Title"/>
            </a>
          </div>
          <div class="collapse navbar-collapse" id="navbar-main">
            <ul class="nav navbar-nav">
              <li class="dropdown">
                <a class="dropdown-toggle" href="/" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">هتل</a>
                <div class="dropdown-menu">
                  <div class="row">
                    <div class="col-md-12">
                      <ul class="dropdown-meganav-list-items">
                        <li>
                          <a href="hotel-results.html">لیست همه هتل ها</a>
                        </li>
                        <li>
                          <a href="hotel-page.html">صفحه هتل</a>
                        </li>
                        <li>
                          <a href="hotel-payment.html">رزرو هتل</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li class="navbar-nav-item-user dropdown">
                <a class="dropdown-toggle" href="/userpanel" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-user-circle-o navbar-nav-item-user-icon"></i>حساب کاربری
                </a>
                <ul class="dropdown-menu">
                  <li>
                    @if (user == null)
                    {
                      <a href="/login"> <i class="fa fa-user-o"></i> حساب کاربری </a>
                    }
                    else
                    {
                      <a href="/UserPanel"> <i class="fa fa-user-o"></i>@user.Name </a>
                    }
     
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <div class="theme-hero-area">
      <div class="theme-hero-area-bg-wrap">
        <div class="theme-hero-area-bg-pattern theme-hero-area-bg-pattern-ultra-light" style="background-image:url(img/img/patterns/travel/4.png);"></div>
        <div class="theme-hero-area-grad-mask"></div>
      </div>
      <div class="theme-hero-area-body">
        <div class="container">
          <div class="theme-item-page-header _pb-50 theme-item-page-header-white">
            <div class="theme-item-page-header-body">
              <ul class="theme-item-page-header-stars">
                @for (int i = 0; i < Model.Hotel.Star; i++)
                {
                  <li>
                    <i class="fa fa-star"></i>
                  </li>
                }
              </ul>
              <h2 class="theme-item-page-header-title">@Model.Hotel.Name</h2>
              <div class="theme-item-page-header-price">
                <div class="theme-item-page-header-price-body">
                  <p class="_fs-sm">شروع قیمت برای یک شب</p>
                  <p class="_fs-xl">@Model.Hotel.HotelRooms.MinBy(x => x.Price).Price</p>
                </div>
           
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="theme-page-section theme-page-section-gray">
      <div class="container">
        <div class="row row-col-static" id="sticky-parent">
          <div class="col-md-9 ">
            <div class="fotorama _mb-30" data-nav="thumbs" data-minwidth="100%" data-arrows="always" data-allowfullscreen="native">
              @foreach (var item in Model.Hotel.Images)
              {
                <img src="/Upload/Hotel/@item" />
              }
            
            </div>
            <div class="theme-item-page-tabs _mb-30">
              <div class="tabbable">
                <ul class="nav nav-tabs nav-default nav-no-br nav-sqr nav-mob-inline" role="tablist">
                  <li class="active" role="presentation">
                    <a class="_ph-30" aria-controls="HotelPageTabs-1" role="tab" data-toggle="tab" href="#HotelPageTabs-1">درباره هتل</a>
                  </li>
                  <li role="presentation">
                    <a class="_ph-30" aria-controls="HotelPageTabs-4" role="tab" data-toggle="tab" href="#HotelPageTabs-3">امکانات</a>
                  </li>
                </ul>
                <div class="tab-content _p-30 _bg-w">
                  <div class="tab-pane active" id="HotelPageTabs-1" role="tab-panel">
                    <div class="theme-item-page-desc">
                      <p>@Model.Hotel.Description</p>
                    </div>
                  </div>
                  <div class="tab-pane" id="HotelPageTabs-2" role="tab-panel">
                    <div class="theme-reviews">
                      <div class="theme-reviews-score theme-reviews-score-hor">
                        <div class="row">
                          <div class="col-md-3 ">
                            <div class="theme-reviews-score-header">
                              <p class="theme-reviews-score-subtitle">میانگین رضایت‌مندی</p>
                            </div>
                            <div class="theme-reviews-score-total">
                            
                                @{
                                  var random = new Random();

                                  double value = Math.Round(
                                    3 + random.NextDouble() * 2,
                                    1
                                  );
                                  
                                  <p> @value.ToString(CultureInfo.InvariantCulture) </p>
                                }
                            </div>
                          </div>
                          <div class="col-md-9 ">
                            <div class="theme-reviews-score-list">
                              <div class="row">
                                <div class="col-md-12">
                                  <div class="theme-reviews-score-item">
                                    <div class="theme-reviews-score-item-header">
                                      <p class="theme-reviews-score-item-title">تمیزی و پاکیزگی</p>
                                      @{
                                        double value2 = Math.Round(
                                          3 + random.NextDouble() * 2,
                                          1
                                        );
                                  
                                        <p class="theme-reviews-score-item-num">@value2.ToString(CultureInfo.InvariantCulture)</p>
                                      }
                                     
                                    </div>
                                    <div class="theme-reviews-score-item-bar">
                                      <div style="width:65%;"></div>
                                    </div>
                                  </div>
                                  <div class="theme-reviews-score-item">
                                    <div class="theme-reviews-score-item-header">
                                      <p class="theme-reviews-score-item-title">خدمات و سرویس دهی</p>
                                      @{
                                        double value3 = Math.Round(
                                          3 + random.NextDouble() * 2,
                                          1
                                        );
                                  
                                        <p class="theme-reviews-score-item-num">@value3.ToString(CultureInfo.InvariantCulture)</p>
                                      }
                                    </div>
                                    <div class="theme-reviews-score-item-bar">
                                      <div style="width:62%;"></div>
                                    </div>
                                  </div>
                                  <div class="theme-reviews-score-item">
                                    <div class="theme-reviews-score-item-header">
                                      <p class="theme-reviews-score-item-title">موقعیت مکانی</p>
                                      @{
                                        double value4 = Math.Round(
                                          3 + random.NextDouble() * 2,
                                          1
                                        );
                                  
                                        <p class="theme-reviews-score-item-num">@value4.ToString(CultureInfo.InvariantCulture)</p>
                                      }
                                    </div>
                                    <div class="theme-reviews-score-item-bar">
                                      <div style="width:76%;"></div>
                                    </div>
                                  </div>
                                  <div class="theme-reviews-score-item">
                                    <div class="theme-reviews-score-item-header">
                                      <p class="theme-reviews-score-item-title">برخورد کارکنان</p>
                                      @{
                                        double value5 = Math.Round(
                                          3 + random.NextDouble() * 2,
                                          1
                                        );
                                  
                                        <p class="theme-reviews-score-item-num">@value5.ToString(CultureInfo.InvariantCulture)</p>
                                      }
                                    </div>
                                    <div class="theme-reviews-score-item-bar">
                                      <div style="width:53%;"></div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="theme-reviews-list">
                        <article class="theme-reviews-item">
                          <div class="row" data-gutter="10">
                            <div class="col-md-12">
                              <div class="theme-reviews-rating">
                                <div class="theme-reviews-rating-header">
                                  <span class="theme-reviews-rating-num">علیرضا یوسفی</span>
                                  <span class="theme-reviews-rating-title">1404/09/02</span>
                                </div>
                                <div class="theme-reviews-rating-bar">
                                  <div style="width:99%;"></div>
                                </div>
                              </div>
                              <div class="theme-reviews-item-body">
                                <p class="theme-reviews-item-text"> هتل خیلی خوب بود شیک و تمیز و نوساز بود و همه ی امکاناتی او که باید داشته باشه او داشت استقبال گرمی از ما شد در این هتل</p>
                              </div>
                            </div>
                          </div>
                        </article>
                        <div class="row">
                          <div class="col-md-6 col-md-offset-5">
                            <a class="theme-reviews-more"> مشاهده بیشتر <i class="fa fa-chevron-down"></i> </a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane" id="HotelPageTabs-3" role="tab-panel">
                    <div class="theme-item-page-facilities">
                      <div class="row">
                        <div class="col-md-3 ">
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-shower theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">حمام</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-taxi theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">تاکسی سرویس</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-glass theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">نوشیدنی</h5>
                          </div>
                        </div>
                        <div class="col-md-3 ">
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-shopping-bag theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">فروشگاه</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-car theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">پارکینگ</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-bath theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">حمام</h5>
                          </div>
                        </div>
                        <div class="col-md-3 ">
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-tint theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">خدمات نظافت</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-fire theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">اعلام حریق</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-desktop theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">LED</h5>
                          </div>
                        </div>
                        <div class="col-md-3 ">
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-coffee theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">کافی شاپ</h5>
                          </div>
                          <div class="theme-item-page-facilities-item">
                            <i class="fa fa-globe theme-item-page-facilities-item-icon"></i>
                            <h5 class="theme-item-page-facilities-item-title">مترجم</h5>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <form asp-action="Book" asp-controller="Hotel" method="post" id="booking-scroll">
              <input type="hidden" asp-for="HotelId" />

              <div class="theme-search-area _p-30 _bg-p _mb-30 _br-3">
                <div class="row" data-gutter="10">

                  <!-- تاریخ ورود -->
                  <div class="col-md-3">
                    <input asp-for="CheckInDate" value="@Model.CheckInDate"
                           class="theme-search-area-section-input datePickerStart"
                           placeholder="تاریخ ورود" />
                  </div>

                  <!-- تاریخ خروج -->
                  <div class="col-md-3">
                    <input asp-for="CheckOutDate" value="@Model.CheckOutDate"
                           class="theme-search-area-section-input datePickerEnd"
                           placeholder="تاریخ خروج" />
                  </div>

                  <!-- انتخاب اتاق -->
                  <div class="col-md-3">
                    <select asp-for="RoomId"
                            asp-items="@Model.Hotel.HotelRooms.Select(x => new SelectListItem
                                       {
                                         Text = x.RoomNumber.ToString(),
                                         Value = x.Id.ToString()
                                       })"
                            class="form-control">
                      <option value="">انتخاب اتاق</option>
                    </select>
                  </div>

                  <!-- دکمه -->
                  <div class="col-md-3">
                    <button type="submit"
                            class="theme-search-area-submit btn btn-primary">
                      رزرو
                    </button>
                  </div>

                </div>
              </div>
            </form>

            <div class="theme-item-page-rooms-table _p-10 _bg-w _mb-mob-30">
              <table class="table">
                <thead>
                  <tr>
                    <th>نام اتاق</th>
                    <th>ظرفیت اتاق</th>
                    <th>خدمات اتاق</th>
                    <th>قیمت برای هر شب</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                <tr>
                  
                  @foreach (var item in Model.Hotel.HotelRooms)
                  {
                    <td class="theme-item-page-rooms-table-type">
                      <h5 class="theme-item-page-rooms-table-type-title">@item.RoomNumber</h5>
                      <img class="theme-item-page-rooms-table-type-img" src="/upload/HotelRoom/@item.Images.FirstOrDefault()" alt="Image Alternative text" title="Image Title"/>
                    </td>
                    <td>
                      <ul class="theme-item-page-rooms-table-guests-count">
                        @{
                          for (int i = 0; i < item.Bed; i++)
                          {
                            <li>
                              <i class="fa fa-male"></i>
                            </li>    
                          }
                        }
                      </ul>
                    </td>
                    <td>
                      <ul class="theme-item-page-rooms-table-type-feature-list">
                        <li> <i class="fa fa-cutlery theme-item-page-rooms-table-type-feature-list-icon"></i>صبحانه </li>
                        <li>
                          <i class="fa fa-shower theme-item-page-rooms-table-type-feature-list-icon"></i>حمام
                        </li>
                        <li>
                          <i class="fa fa-wifi theme-item-page-rooms-table-type-feature-list-icon"></i>اینترنت رایگان
                        </li>
                      </ul>
                    </td>
                    <td class="theme-item-page-rooms-table-price">
                      <div>
                        <div class="theme-item-page-rooms-table-price-night">
                          <strike>@item.Price</strike>
                          <p class="text-bold-600 _fs-b">2,820,000 <small> ریال </small> </p>
                        </div>
                      </div>
                    </td>
                    <td>
                      <a class="btn btn-primary-inverse btn-block"> رزرو کنید <i class="fa fa-arrow-left"></i> </a>
                    </td>
                  }
                </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-md-3 ">
            <div class="sticky-col">
              <div class="theme-sidebar-section _mb-10 _mob-h">
                <a class="btn _tt-uc btn-primary-inverse" data-scroll href="/Hotels">همه هتل‌ها</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="theme-footer" id="mainFooter">
      <div class="container _ph-mob-0">
        <div class="row row-eq-height row-mob-full" data-gutter="60">
          <div class="col-md-3">
            <div class="theme-footer-section theme-footer-">
              <a class="theme-footer-brand _mb-mob-30" href="#">
                <img src="img/img/logo.png" alt="Image Alternative text" title="Image Title"/>
              </a>
              <div class="theme-footer-brand-text">
                <p>سفرآنلاین با ارائه بهترین و با کیفیت ترین خدمات گردشگری به صورت آنلاین می کوشد تا به عنوان معتبرترین شرکت گردشگری در ایران، تجربه ی لذت بخش یک رزرو اینترنتی را برایتان تداعی کند. شما در هر کجای دنیا که باشید، در هر ساعت از شبانه روز می توانید از طریق سایت الی گشت بلیط هواپیما، بلیط چارتر، رزرو هتل ارزان قیمت، تورهای مسافرتی و تور لحظه آخری را با پایین ترین نرخ ها انتخاب کنید.</p>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-3">
                <div class="theme-footer-section theme-footer-">
                  <h5 class="theme-footer-section-title">سفرآنلاین</h5>
                  <ul class="theme-footer-section-list">
                    <li>
                      <a href="#">درباره ما</a>
                    </li>
                    <li>
                      <a href="#">تماس با ما</a>
                    </li>
                    <li>
                      <a href="#">قوانین و مقررات</a>
                    </li>
                    <li>
                      <a href="#">راهنمای خرید</a>
                    </li>
                    <li>
                      <a href="#">پرسش و پاسخ</a>
                    </li>
                    <li>
                      <a href="#">فرصت‌های شغلی</a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="col-md-4">
                <div class="theme-footer-section theme-footer-">
                  <h5 class="theme-footer-section-title">اطلاعات تکمیلی</h5>
                  <ul class="theme-footer-section-list">
                    <li>
                      <a href="#">چارتر</a>
                    </li>
                    <li>
                      <a href="#">رزرو بلیط هواپیما</a>
                    </li>
                    <li>
                      <a href="#">بلیط قطار</a>
                    </li>
                    <li>
                      <a href="#">خرید اینترنتی بلیط هواپیما</a>
                    </li>
                    <li>
                      <a href="#">بلیط ارزان هواپیما</a>
                    </li>
                    <li>
                      <a href="#">راهنمای استرداد بلیط</a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="col-md-5">
                <div class="theme-footer-section theme-footer-">
                  <h5 class="theme-footer-section-title">مسیرهای پروازی</h5>
                  <ul class="theme-footer-section-list">
                    <li>
                      <a href="#">بلیط هواپیما تهران به مشهد</a>
                    </li>
                    <li>
                      <a href="#">بلیط هواپیما تهران به کیش</a>
                    </li>
                    <li>
                      <a href="#">بلیط هواپیما تهران به شیراز</a>
                    </li>
                    <li>
                      <a href="#">بلیط هواپیما تهران به تبریز</a>
                    </li>
                    <li>
                      <a href="#">بلیط هواپیما تهران به اصفهان</a>
                    </li>
                    <li>
                      <a href="#">بلیط هواپیما تهران به قشم</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="theme-footer-section theme-footer-">
              <h5 class="theme-footer-section-title">کمک میخواهید؟</h5>
              <ul class="theme-footer-section-list">
                <li>
                  <a href="#">  تهران- تجریش</a>
                </li>
                <li>
                  <a href="#">تلفن: 021123456</a>
                </li>
                <li>
                  <a href="#">پست الکترونیکی :info@gmail.com  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="theme-copyright">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <p class="theme-copyright-text">کلیه حقوق این سایت محفوظ و متعلق به آژانس هواپیمایی و جهانگردی سفرآنلاین می‌باشد.</p>
          </div>
          <div class="col-md-6">
            <ul class="theme-copyright-social">
              <li>
                <a class="fa fa-facebook" href="#"></a>
              </li>
              <li>
                <a class="fa fa-google" href="#"></a>
              </li>
              <li>
                <a class="fa fa-twitter" href="#"></a>
              </li>
              <li>
                <a class="fa fa-youtube-play" href="#"></a>
              </li>
              <li>
                <a class="fa fa-instagram" href="#"></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script src="js/jquery.js"></script>
    <script src="js/moment.js"></script>
    <script src="js/bootstrap.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDYeBBmgAkyAN_QKjAVOiP_kWZ_eQdadeI&amp;callback=initMap&amp;libraries=places"></script>
    <script src="js/owl-carousel.js"></script>
    <script src="js/blur-area.js"></script>
    <script src="js/icheck.js"></script>
    <script src="js/gmap.js"></script>
    <script src="js/magnific-popup.js"></script>
    <script src="js/ion-range-slider.js"></script>
    <script src="js/sticky-kit.js"></script>
    <script src="js/smooth-scroll.js"></script>
    <script src="js/fotorama.js"></script>
    <script src="js/persian-datepicker.js"></script>
    <script src="js/typeahead.js"></script>
    <script src="js/quantity-selector.js"></script>
    <script src="js/countdown.js"></script>
    <script src="js/window-scroll-action.js"></script>
    <script src="js/fitvid.js"></script>
    <script src="js/youtube-bg.js"></script>
    <script src="js/custom.js"></script>
  </body>
</html>

