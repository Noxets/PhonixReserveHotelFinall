function OnMapClick(n){typeof marker=="undefined"?(marker=new L.marker(n.latlng),marker.addTo(n.sourceTarget)):marker.setLatLng(n.latlng);dotNetObject.invokeMethodAsync("PointChange",{latitude:n.latlng.lat,longitude:n.latlng.lng})}let marker,dotNetObject;window.formMap={initMap:function(n){let t=null;dotNetObject=n.dotNetObject;typeof n.correctPoint!="undefined"&&n.correctPoint!=null&&(t=L.map("map",{worldCopyJump:!0}).setView([n.correctPoint.latitude,n.correctPoint.longitude],16),marker=new L.marker(L.latLng(n.correctPoint.latitude,n.correctPoint.longitude)).addTo(t),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{}).addTo(t));typeof n.points!="undefined"&&n.points.length>0&&(t==null&&(t=L.map("map",{worldCopyJump:!0}).setView([n.points[0].latitude,n.points[0].longitude],16),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{}).addTo(t)),n.points.forEach(n=>{L.marker([n.latitude,n.longitude],{icon:L.icon({iconUrl:n.iconPath})}).addTo(t).bindPopup(n.Name)}));t==null&&(t=L.map("map",{worldCopyJump:!0}).setView([35.81203626861781,50.98454475402833],18),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{}).addTo(t));t.on("click",function(n){OnMapClick(n)})}};